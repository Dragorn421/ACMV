function addClassTo(e,t){if(e.classList)e.classList.add(t);else if(""==e.className)e.className=t;else{var n=e.className.split(" ");-1==n.indexOf(t)&&(e.className+=" "+t)}}function removeClassFrom(e,t){if(e.classList)e.classList.remove(t);else if(""!=e.className){var n=e.className.split(" "),r=n.indexOf(t);-1!=r&&(n.splice(r,1),e.className=n.join(" "))}}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function setGetQuery(e){var t="http://"+window.location.host+window.location.pathname+e;window.location.href.toLowerCase()!=t.toLowerCase()&&window.history.pushState(null,"",t)}function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var a=e.indexOf("Edge/");return a>0?parseInt(e.substring(a+5,e.indexOf(".",a)),10):!1}function removeElement(e){"remove"in e?e.remove():e.parentNode.removeChild(e)}function getScrollX(){return"pageXOffset"in window?window.pageXOffset:"scrollX"in window?window.scrollX:"scrollLeft"in document.body?document.body.scrollLeft:0}function getScrollY(){return"pageYOffset"in window?window.pageYOffset:"scrollY"in window?window.scrollY:"scrollTop"in document.body?document.body.scrollTop:0}function scrollToContent(){var e=getContentDiv();ACMV.scroll={},ACMV.scroll.start=time(),ACMV.scroll.fromY=getScrollY(),ACMV.scroll.offsetY=e.getBoundingClientRect().top-50,ACMV.scroll.duration=ACMV.scroll.offsetY/2,ACMV.scroll.intervalId=setInterval(function(){var e=time()-ACMV.scroll.start;if(e>ACMV.scroll.duration)return clearInterval(ACMV.scroll.intervalId),void(ACMV.scroll.intervalId=null);var t=ACMV.scroll.fromY+e/ACMV.scroll.duration*ACMV.scroll.offsetY;"scrollTop"in document.body?document.body.scrollTop=t:window.scroll(getScrollX(),t)},1e3/60)}function spreadElements(e,t,n){var r=Math.max(1,Math.floor(t/n)),a=Math.ceil(e.children.length/r),i=Math.ceil(e.children.length/a);e.style.width=Math.min(t,n*i+n-1)+"px"}function spreadGroups(){for(var e=0;e<ACMV.spreadGroups.length;e++)spreadElements(ACMV.spreadGroups[e],document.body.clientWidth,100)}function time(){return(new Date).getTime()}function toBool(e){return"true"===e?!0:"false"===e?!1:null}function floorTo(e,t){return e-e%t}function toggleVisibility(e){var t=document.getElementById(e);"display"in t.style&&""!=t.style.display?t.style.display="":t.style.display="none"}function setShowHelp(e){if(e){for(var t=ACMV.help.elements,n=0;n<t.length;n++){var r=t[n],a=document.createElement("div");a.id="help-for-"+r.attachTo+("n"in r?r.n:""),addClassTo(a,"integrated-help"),document.body.appendChild(a),a.appendChild(document.createTextNode(r.text)),"textAlign"in r&&(a.style.textAlign=r.textAlign),"maxWidth"in r&&(a.style.maxWidth=r.maxWidth+("number"==typeof r.maxWidth?"px":""))}for(var i=ACMV.help.putSpace,n=0;n<i.length;n++)for(var o=0;o<i[n].elements.length;o++)document.getElementById(i[n].elements[o]).style["margin-"+i[n].side]=i[n].space+"px";window.addEventListener("resize",function(){updateIntegratedHelpPositions()}),updateIntegratedHelpPositions()}else{window.removeEventListener("resize",updateIntegratedHelpPositions);for(var t=document.getElementsByClassName("integrated-help");0!=t.length;)removeElement(t[0]);for(var i=ACMV.help.putSpace,n=0;n<i.length;n++)for(var o=0;o<i[n].elements.length;o++)document.getElementById(i[n].elements[o]).style["margin-"+i[n].side]=""}}function updateIntegratedHelpPositions(){for(var e=ACMV.help.elements,t=getScrollX(),n=getScrollY(),r=0;r<e.length;r++){var a=e[r],i=document.getElementById(a.attachTo),o=document.getElementById("help-for-"+a.attachTo+("n"in a?a.n:""));if(i)for(var s=0;2>s;s++){var l=i.getBoundingClientRect(),c=o.getBoundingClientRect(),d=0,h=0;switch(a.align){case"left":d=l.left;break;case"center":d=l.left+(l.width-c.width)/2;break;case"right":d=l.right-c.width}switch(a.verticalAlign){case"top":h=l.top-c.height-5;break;case"middle":h=l.top+(l.height-c.height)/2;break;case"bottom":h=l.bottom+5}d+=t,h+=n,o.style.left=d+"px",o.style.right="",o.style.top=h+"px",o.style.bottom=""}else o.style.left="",o.style.right="0",o.style.top="",o.style.bottom="0"}}function setEnableCustomList(e){if(ACMV.enableCustomList=e,e){document.getElementById("search-filter-customList").style.display="";for(var t=document.getElementById("search-group").firstElementChild,n=0;n<t.length;n++)if("customList"==t[n].value){t[n].disabled=!1;break}}else{document.getElementById("search-filter-customList").style.display="none";for(var t=document.getElementById("search-group").firstElementChild,n=0;n<t.length;n++)if("customList"==t[n].value){t[n].disabled=!0;break}}updateSorter(),updateMasteries()}function loadCustomList(){ACMV.enableCustomList?(ACMV.customList=JSON.parse(localStorage.getItem("customlist")),ACMV.customList||(ACMV.customList=[])):ACMV.customList=[]}function saveCustomList(){ACMV.enableCustomList&&(ACMV.customList==[]?localStorage.removeItem("customlist"):localStorage.setItem("customlist",JSON.stringify(ACMV.customList)))}function setDateInput(e,t){parent=e.parentNode,e.rome=rome(e,{autoClose:!1,appendTo:parent,inputFormat:"MMMM D, YYYY - HH:mm"}),e.onchange=function(){updateSearchFilterInput(t,e,function(t){return e.rome.getDate()})},e.addEventListener("change",e.onchange),parent.addEventListener("click",function(t){e.onchange()})}function setLoading(e){var t=document.getElementById("loading");e?addClassTo(t,"loading"):removeClassFrom(t,"loading")}function getContentDiv(){return document.getElementById("content")}function setContent(e){getContentDiv().innerHTML=e}function getMasteries(e,t,n,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&(200==a.status?n(a.responseText):r(a.status,a.responseText))},a.open("GET","getmasteries.php?v=1&name="+encodeURIComponent(e)+"&region="+t,!0),a.send()}function resetMasteries(e){ACMV.masteries=e,championsWithMastery=[];for(var t=0;t<ACMV.masteries.length;t++)championsWithMastery.push(ACMV.masteries[t].championId);for(var n in Champions.names)n=parseInt(n),-1==championsWithMastery.indexOf(n)&&ACMV.masteries.push({championId:n,championLevel:0,championPoints:0,lastPlayTime:0,championPointsSinceLastLevel:0,championPointsUntilNextLevel:0,chestGranted:!1});updateMasteries()}function restoreSearch(e){var t=!e;t?e=ACMV.search:ACMV.search=e;for(var n in ACMV.sorting.filter){var r=n in e.filter?e.filter[n]:null,a=document.getElementById("search-filter-"+n).firstElementChild;if("INPUT"==a.tagName)if(null===r)a.value="";else if("rome"in a){var i=new Date(r);a.rome.setValue(i),a.rome.emitValues()}else a.value=r;else if("SELECT"==a.tagName)if(null===r){for(var o=0;o<a.length;o++)a[o].selected=!1;a.multiple||(a[0].selected=!0)}else{var s=a.multiple?r.slice(0):[r];s||(s=[]);for(var o=0;o<s.length;o++)s[o]+="";for(var o=0;o<a.length;o++)a[o].selected=-1!=s.indexOf(a[o].value)}}updateSorter();for(var l=document.getElementById("search-group").firstElementChild,o=0;o<l.length;o++)l[o].selected=l[o].value==e.group;t||updateMasteries()}function updateSearchFilterInput(e,t,n){ACMV.search.filter[e]=null!=n?n(t.value):t.value,null===ACMV.search.filter[e]&&delete ACMV.search.filter[e],updateMasteries()}function updateSearchFilterSelectOne(e,t,n){for(var r=null,a=0;a<t.length;a++)if(t[a].selected){r=null!=n?n(t[a].value):t[a].value;break}ACMV.search.filter[e]=r,null===ACMV.search.filter[e]&&delete ACMV.search.filter[e],updateMasteries()}function updateSearchFilterSelectMultiple(e,t,n){for(var r=[],a=0;a<t.length;a++)t[a].selected&&r.push(null!=n?n(t[a].value):t[a].value);ACMV.search.filter[e]=r,null===ACMV.search.filter[e]&&delete ACMV.search.filter[e],updateMasteries()}function isFiltered(e){for(var t in ACMV.search.filter)if(t in ACMV.search.filter){var n=ACMV.search.filter[t];if(n===!0||n===!1){if(ACMV.sorting.filter[t](e)!==n)return!0}else if(!ACMV.sorting.filter[t](e,n))return!0}return!1}function sortMasteries(e){return e.sort(function(e,t){for(var n=0;n<ACMV.search.order.length;n++){var r=ACMV.search.order[n],a=ACMV.sorting.order[r.criteria](e,t)*(r.asc?1:-1);if(0!=a)return a}return t.championPoints-e.championPoints}),e}function updateSorter(){for(var e={name:"Name",free:"Free",chest:"Chest granted",customList:"Custom list",lastPlayed:"Last played",level:"Level",role:"Role",grade:"Best grade"},t=document.getElementById("search-sort-stack");t.firstChild;)removeElement(t.firstChild);for(var n=document.getElementById("search-sort-unused-criteria");n.firstChild;)removeElement(n.firstChild);var r=[];for(var a in ACMV.sorting.order)r.push(a);for(var a=0;a<ACMV.search.order.length;a++){var i=ACMV.search.order[a],o=document.createElement("div");o.appendChild(document.createTextNode("- "+e[i.criteria]));var s=document.createElement("span");s.appendChild(document.createTextNode(" ("+(i.asc?"ascendant":"descendant")+")")),s.addEventListener("click",function(e){var t=parseInt(e.currentTarget.parentNode.getAttribute("data-sort-order-key"));ACMV.search.order[t].asc=!ACMV.search.order[t].asc,updateSorter(),updateMasteries(),e.stopPropagation()}),o.appendChild(s),o.setAttribute("data-sort-order-key",a),o.addEventListener("click",function(e){var t=parseInt(e.currentTarget.getAttribute("data-sort-order-key"));ACMV.search.order.splice(t,1),updateSorter(),updateMasteries()}),t.appendChild(o);var l=r.indexOf(i.criteria);-1!=l&&r.splice(l,1)}for(var l=0;l<r.length;l++){var a=r[l];if(ACMV.enableCustomList||"customList"!=a){var o=document.createElement("div");o.appendChild(document.createTextNode(e[a]+" +")),o.setAttribute("data-sort-criteria-name",a),o.addEventListener("click",function(e){ACMV.search.order.push({criteria:e.currentTarget.getAttribute("data-sort-criteria-name"),asc:!0}),updateSorter(),updateMasteries()}),n.appendChild(o)}}}function updateSearchGroup(e){for(var t=0;t<e.length;t++)if(e[t].selected){ACMV.search.group=e[t].value;break}updateMasteries()}function groupMasteries(e){if(""==ACMV.search.group)return[{name:e.length+" champion"+(1==e.length?"":"s"),masteries:e}];for(var t={},n=0;n<e.length;n++){var r=ACMV.sorting.group[ACMV.search.group](e[n]);"undefined"==typeof t[r.id]&&(t[r.id]={name:r.name,masteries:[]}),t[r.id].masteries.push(e[n])}for(var r in t)t[r].name+=" ("+t[r].masteries.length+")";return t}function getCircularProgress(e){var t=90,n=90;if(0==e){var r=document.createElement("div");return addClassTo(r,"progress-circular"),r.style.width=t+"px",r.style.height=n+"px",r}var a=document.createElement("canvas");addClassTo(a,"progress-circular"),a.width=t,a.height=n;var i=a.getContext("2d");return i.strokeStyle="#2e9fd1",i.lineWidth=3,i.beginPath(),i.arc(t/2,n/2,18,-Math.PI/2,Math.PI*(2*e/100-.5)),i.stroke(),i.closePath(),a}function buildMastery(e){var t=document.createElement("div");addClassTo(t,"mastery-element");var n=document.createElement("div");addClassTo(n,"champion"),Champions.isFree(e.championId)&&addClassTo(n,"free-champion"),t.appendChild(n);var r=document.createElement("div");addClassTo(r,"champion-icon"),n.appendChild(r);var a=document.createElement("img");r.appendChild(a),a.src="http://ddragon.leagueoflegends.com/cdn/"+ACMV.currentPatch+"/img/champion/"+Champions.keys[e.championId]+".png",a.alt=Champions.names[e.championId]+" icon";var i=document.createElement("img");addClassTo(i,"mastery-icon"),n.appendChild(i),i.src="/lol/mastery/img/mastery_"+e.championLevel+".png",i.alt="Mastery level "+e.championLevel;var o=document.createElement("div");addClassTo(o,"champion-name"),n.appendChild(o),o.appendChild(document.createTextNode(Champions.names[e.championId]));var s=document.createElement("div");addClassTo(s,"mastery-info"),t.appendChild(s);var l=document.createElement("div");addClassTo(l,"mastery-xp"),s.appendChild(l);var c=ACMV.xpNeededCumulated[e.championLevel];l.appendChild(document.createTextNode(0==e.championLevel?"":e.championPoints+(0!=c?"/"+c:"")));var d=document.createElement("div");addClassTo(d,"mastery-level-progress"),s.appendChild(d),c=ACMV.xpNeeded[e.championLevel];var h=0==e.championLevel?0:0==c?100:Math.round(e.championPointsSinceLastLevel/c*100);d.appendChild(document.createTextNode(0==e.championLevel?"No mastery":h+"%"));var m=document.createElement("div");if(addClassTo(m,"mastery-highest-grade"),s.appendChild(m),m.appendChild(document.createTextNode("highestGrade"in e?e.highestGrade:"")),ACMV.enableCustomList){var u=document.createElement("div");addClassTo(u,"custom-list-edit"),s.appendChild(u),u.appendChild(document.createTextNode(-1==ACMV.customList.indexOf(e.championId)?"+":"−")),u.addEventListener("click",function(){var t=ACMV.customList.indexOf(e.championId);-1==t?ACMV.customList.push(e.championId):ACMV.customList.splice(t,1),saveCustomList(),updateMasteries()})}var p=getCircularProgress(h);return s.appendChild(p),t}function updateMasteries(){if(ACMV.spreadGroups=[],0!=ACMV.masteries.length){for(var e=getContentDiv();e.firstChild;)e.removeChild(e.firstChild);for(var t=[],n=0;n<ACMV.masteries.length;n++){var r=ACMV.masteries[n];isFiltered(r)||t.push(r)}var a=groupMasteries(t);for(var i in a){if(""!=a[i].name){var o=document.createElement("div");addClassTo(o,"subtitle"),o.appendChild(document.createTextNode(a[i].name)),e.appendChild(o),e.appendChild(document.createElement("br")),o.setAttribute("data-corresponding-group-id","group-"+i),o.addEventListener("click",function(e){toggleVisibility(e.currentTarget.getAttribute("data-corresponding-group-id"))})}var s=document.createElement("div");addClassTo(s,"group"),s.id="group-"+i,ACMV.spreadGroups.push(s),e.appendChild(s),t=sortMasteries(a[i].masteries);for(var n=0;n<t.length;n++)s.appendChild(buildMastery(t[n]))}spreadGroups()}}function showMasteries(e,t){""==e||e.length<4||(setLoading(!0),getMasteries(e,t,function(e){resetMasteries(JSON.parse(e)),setLoading(!1),scrollToContent()},function(e,t){setContent("Error "+e+", got message:<br>"+t),setLoading(!1),scrollToContent()}))}function submitSummoner(){for(var e=document.getElementById("name-input").value,t=document.getElementById("region-picker"),n="",r=0;r<t.length;r++)if(t[r].selected){n=t[r].value;break}setGetQuery("?s="+encodeURIComponent(e.toLowerCase())+("euw"==n?"":"&r="+encodeURIComponent(n))),showMasteries(e,n)}function onBodyLoaded(){if(detectIE()!==!1&&alert("You seem to be using Internet Explorer or Edge. These navigators don't work too well with ACMV. You have been warned!"),window.addEventListener("mouseup",function(e){setTimeout(function(){restoreSearch()},0)}),window.addEventListener("resize",spreadGroups),"localStorage"in window){var e=null!==localStorage.getItem("localStorageAllowed");e||(document.getElementById("for-the-cookie-law").style.display="block",document.getElementById("accept-cookies").addEventListener("click",function(){localStorage.setItem("localStorageAllowed","true"),document.getElementById("for-the-cookie-law").style.display="",setEnableCustomList(!0)})),setEnableCustomList(e),loadCustomList()}else setEnableCustomList(!1);var t=document.getElementById("toggle-help");t.addEventListener("click",function(e){ACMV.help.shown=!ACMV.help.shown,removeElement(e.target.firstChild),e.target.appendChild(document.createTextNode(ACMV.help.shown?"Hide help":"Show help")),setShowHelp(ACMV.help.shown)}),restoreSearch();var n=document.getElementById("pick-name-form");n.submit=function(){return submitSummoner(),!1},n.addEventListener("submit",n.submit);var r=getParameterByName("s");if(r){document.getElementById("name-input").value=r;var a=getParameterByName("r");a=a?a.toLowerCase():"euw";for(var i=document.getElementById("region-picker"),o=0;o<i.length;o++)if(i[o].value==a){i[o].selected=!0;break}n.submit()}}ACMV={masteries:[],defaultSearch:{filter:{},order:[],group:""},search:{filter:{},order:[],group:""},enableCustomList:!1,customList:[],currentPatch:Champions.patch,grades:["S+","S","S-","A+","A","A-","B+","B","B-","C+","C","C-","D+","D","D-",""],roles:["Assassin","Fighter","Mage","Marksman","Melee","Support","Tank"],xpNeeded:[0,1800,4200,6600,9e3,0],xpNeededCumulated:[0,1800,6e3,12600,21600,0],help:{shown:!1,elements:[{attachTo:"name-input",text:"1. Choose a summoner name",align:"left",verticalAlign:"top",maxWidth:400},{attachTo:"region-picker",text:"2. Pick a region",align:"center",verticalAlign:"bottom",textAlign:"center",maxWidth:70},{attachTo:"submit-name",text:"3. Click here!",align:"center",verticalAlign:"top",textAlign:"center",maxWidth:70},{attachTo:"search-filter-title",text:"Here you can choose what champions should be shown or not.",align:"center",verticalAlign:"bottom",textAlign:"center"},{attachTo:"search-filter-free",text:"Show only free or only not free champions.",align:"center",verticalAlign:"top",textAlign:"center",maxWidth:150},{attachTo:"search-filter-chest",text:"Show only champions whose chest has been granted or not.",align:"center",verticalAlign:"top",textAlign:"center",maxWidth:150},{attachTo:"search-filter-customList",text:"Show only champions who are or aren't in your custom list.",align:"center",verticalAlign:"top",textAlign:"center",maxWidth:150},{attachTo:"search-filter-notPlayedBefore",text:"Show only champions who were last played before this date.",align:"right",verticalAlign:"top",textAlign:"right",maxWidth:300},{attachTo:"search-filter-notPlayedSince",text:"Show only champions who were last played after this date.",align:"left",verticalAlign:"top",textAlign:"right",maxWidth:300},{attachTo:"search-filter-level",n:0,text:"Select multiple items by holding down click and drag the cursor, or press control then click to select/unselect one.",align:"left",verticalAlign:"top",textAlign:"left"},{attachTo:"search-filter-level",n:1,text:"Show only champions whose mastery level is selected.",align:"right",verticalAlign:"bottom",textAlign:"right",maxWidth:300},{attachTo:"search-filter-role",text:"Show only champions whose role is selected.",align:"right",verticalAlign:"bottom",textAlign:"right",maxWidth:300},{attachTo:"search-filter-grade",text:"Show only champions whose best grade is selected.",align:"center",verticalAlign:"top"},{attachTo:"search-sort-title",text:"Here you can choose the way the champions will be sorted. The champions are sorted using the criteria in the top-down order of the selected list. For example if you sort by Free then by Name it will put all the free champions first, ordered by name, then all the non-free champions, ordered by name too.",align:"center",verticalAlign:"bottom",textAlign:"center"},{attachTo:"search-group-title",text:"Here you can group champions per criteria. Each group will be named after the criteria value, you can hide a group by clicking on the group name.",align:"center",verticalAlign:"bottom",textAlign:"center"},{attachTo:"content",text:"Here are all the masteries of the summoner. When hovering a champion, you can see the mastery points earned, the current level progress, and the best grade with this champion if any. If you accepted the use of local storgae there is a + sign that will add the champion to your custom list. To remove a champion from your custom list click the - sign that appears instead of the +. This custom list is saved locally and will remain after you leave the page.",align:"center",verticalAlign:"top"}],putSpace:[{elements:["search-filter-title"],space:40,side:"bottom"},{elements:["search-sort-title"],space:85,side:"bottom"},{elements:["search-group-title"],space:65,side:"bottom"},{elements:["search-filter-free","search-filter-customList","search-filter-level","search-filter-role","search-filter-chest","search-filter-notPlayedSince","search-filter-notPlayedBefore","search-filter-grade"],space:75,side:"top"},{elements:["content"],space:150,side:"top"}]},spreadGroups:[],sorting:{filter:{free:function(e){return Champions.isFree(e.championId)},customList:function(e){return-1!=ACMV.customList.indexOf(e.championId)},level:function(e,t){return-1!=t.indexOf(e.championLevel)},role:function(e,t){for(var n=Champions.roles[e.championId],r=0;r<n.length;r++)if(-1!=t.indexOf(n[r]))return!0;return!1},chest:function(e){return e.chestGranted},notPlayedSince:function(e,t){return e.lastPlayTime<t},notPlayedBefore:function(e,t){return e.lastPlayTime>t},grade:function(e,t){return"highestGrade"in e?-1!=t.indexOf(e.highestGrade):-1!=t.indexOf("")}},order:{name:function(e,t){var n=Champions.names[e.championId],r=Champions.names[t.championId];return n==r?0:r>n?-1:1},free:function(e,t){var n=Champions.isFree(e.championId);return n==Champions.isFree(t.championId)?0:n?-1:1},customList:function(e,t){return(-1==ACMV.customList.indexOf(e.championId)?0:-1)-(-1==ACMV.customList.indexOf(t.championId)?0:-1)},level:function(e,t){return e.championLevel-t.championLevel},role:function(e,t){var n=Champions.roles[e.championId][0],r=Champions.roles[t.championId][0];return n==r?0:r>n?-1:1},chest:function(e,t){return e.chestGranted==t.chestGranted?0:e.chestGranted?-1:1},lastPlayed:function(e,t){return e.lastPlayTime-t.lastPlayTime},grade:function(e,t){return"highestGrade"in e||"highestGrade"in t?!("highestGrade"in e)&&"highestGrade"in t?1:"highestGrade"in e&&!("highestGrade"in t)?-1:ACMV.grades.indexOf(e.highestGrade)-ACMV.grades.indexOf(t.highestGrade):0}},group:{free:function(e){return Champions.isFree(e.championId)?{id:0,name:"Free"}:{id:1,name:"Not free"}},customList:function(e){var t=-1==ACMV.customList.indexOf(e.championId)?1:0;return{id:t,name:(t?"Not in":"In")+" custom list"}},level:function(e){return{id:5-e.championLevel,name:0==e.championLevel?"No mastery":"Mastery level "+e.championLevel}},role:function(e){var t=Champions.roles[e.championId][0];return{id:ACMV.roles.indexOf(t),name:t}},chest:function(e){return"chestGranted"in e&&e.chestGranted?{id:0,name:"Chest granted"}:{id:1,name:"Chest not granted"}},lastPlayedDay:function(e){var t=864e5,n=(floorTo(time(),t)-floorTo(e.lastPlayTime,t))/t,r="";switch(n){case 0:r="Today";break;case 1:r="Yesterday";break;default:r=n+" days ago"}return{id:n,name:r}},lastPlayedWeek:function(e){var t=6048e5,n=2592e5,r=(floorTo(time()+n,t)-floorTo(e.lastPlayTime+n,t))/t,a="";switch(r){case 0:a="This week";break;case 1:a="Last week";break;default:a=r+" weeks ago"}return{id:r,name:a}},lastPlayedMonth:function(e){var t=new Date,n=new Date(e.lastPlayTime),r=12*(t.getFullYear()-n.getFullYear())+t.getMonth()-n.getMonth(),a="";switch(r){case 0:a="This month";break;case 1:a="Last month";break;default:a=r+" months ago"}return{id:r,name:a}},grade:function(e){return"highestGrade"in e?{id:ACMV.grades.indexOf(e.highestGrade),name:e.highestGrade}:{id:ACMV.grades.length,name:"No grade"}}}}},ACMV.defaultSearch.filter={level:[1,2,3,4,5],role:ACMV.roles,grade:ACMV.grades},ACMV.search=ACMV.defaultSearch,Champions.isFree=function(e){return-1!=Champions.free.indexOf(e)};